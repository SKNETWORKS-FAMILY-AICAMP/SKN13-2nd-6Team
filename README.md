ğŸ“…**ê°œë°œ ê¸°ê°„** : 2025.05.15 ~ 2025.05.16

# ğŸš©**IBM ì§ì› ì´íƒˆ ì˜ˆì¸¡**
--------------------------------------------------------------
## ğŸ‘¤ íŒ€ì› ë° ë‹´ë‹¹ ì—…ë¬´
| ì´ë¦„     | ì—­í•                         |
|----------|-----------------------------|
| êµ¬ìí˜„   | ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã… |
| ë¯¼ê²½ì¬   | ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…ã…        |
| ë°•í˜„ì•„   | ã…ã…ã…ã…ã…ã…ã…ã…        |
| ìš°ì§€í›ˆ   | ã…ã…ã…ã…ã…ã…ã…ã…          |
--------------------------------------------------------------
- SKë„¤íŠ¸ì›ìŠ¤ Family AI ìº í”„ 13ê¸°
- íŒ€ëª… : 6ì¡°
## ğŸ”§ ê¸°ìˆ ìŠ¤íƒ 
![image](https://github.com/user-attachments/assets/4842b4d2-a7b6-4f79-9465-3b5baa632bb8)
![image](https://github.com/user-attachments/assets/edb303e4-5756-4267-999e-0473c443a5b9)
![image](https://github.com/user-attachments/assets/d34ac1d9-79ee-4db1-a6a1-5f7a155efeb4)
![image](https://github.com/user-attachments/assets/1ce88e67-ba26-4277-b1e6-790f4aa64e4f)

![image](https://github.com/user-attachments/assets/37e004cc-f457-48da-8e70-2c2467debf7a)
![image](https://github.com/user-attachments/assets/632c14c1-25ae-41eb-a83b-cf3750d9dcce)
![image](https://github.com/user-attachments/assets/818414e4-a71e-4189-b1dd-e8d01fac0c74)
![image](https://github.com/user-attachments/assets/85046805-be7a-490f-b5c0-0e9bae7b99e3)


--------------------------------------------------------------
# ğŸ’¡ í”„ë¡œì íŠ¸ ê°œìš”
## âœ… í”„ë¡œì íŠ¸ ì£¼ì œ 
#### ì§ì› ì´íƒˆ ì›ì¸ ë¶„ì„ ë° ì´íƒˆ ì˜ˆì¸¡
## âœ… í”„ë¡œì íŠ¸ ëª©í‘œ
#### - ì§ì› ì£¼ìš” ì´íƒˆ ìš”ì¸ ë¶„ì„
#### - ì´íƒˆ í™•ë¥ ì„ í†µí•´, ì €/ì¤‘/ê³  ìœ„í—˜ë„ ë¶„ë¥˜í•˜ì—¬ ì´íƒˆ ì˜ˆì¸¡
## âœ… ë°ì´í„°ì…‹ 
### - ì¶œì²˜ 
https://www.kaggle.com/datasets/pavansubhasht/ibm-hr-analytics-attrition-dataset
### - ì„¤ëª… 
###### ì´ ë°ì´í„°ì…‹ì€ IBMì˜ ê°€ìƒ ì¸ì‚¬ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœ ì´ì§(Attrition) ì˜ˆì¸¡ ë¶„ì„ìš© ìë£Œì…ë‹ˆë‹¤. HR ë¶€ì„œê°€ ì§ë©´í•˜ëŠ” ì¡°ì§ ë‚´ ì´íƒˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, ê°œì¸ íŠ¹ì„±, ì§ë¬´ ì •ë³´, ê·¼ë¬´ í™˜ê²½, ë§Œì¡±ë„, ì„±ê³¼, ë³´ìƒ ë“± ë‹¤ì–‘í•œ ìš”ì†Œê°€ í¬í•¨ë˜ì–´ ìˆì–´ ì‹¤ë¬´ì— ê°€ê¹Œìš´ ë¶„ì„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
### - ğŸ¯ Target Variable
#### Attrition (ë²”ì£¼í˜•) : ì´ì§ ì—¬ë¶€ (Yes: ì´ì§, No: ì¬ì§)
--------------------------------------------------------------
# ğŸ“ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
  project/
  â”‚
  â”œâ”€â”€ data/                    # ë°ì´í„°ì…‹ (í¬ë©´ .gitignore)
  â”‚   â””â”€â”€ employees.csv
  â”‚
  â”œâ”€â”€ models/                  # í•™ìŠµëœ ëª¨ë¸ ì €ì¥ì†Œ
  â”‚   â””â”€â”€ churn_model.pkl
  â”‚
  â”œâ”€â”€ notebooks/               # ë¶„ì„, ì‹¤í—˜ìš© ë…¸íŠ¸ë¶
  â”‚   â””â”€â”€ 01_EDA.ipynb
  â”‚
  â”œâ”€â”€ app/                     # Streamlit ê´€ë ¨ ëª¨ë“  ì½”ë“œ
  â”‚   â”œâ”€â”€ __init__.py
  â”‚   â”œâ”€â”€ main.py              # Streamlit ì§„ì…ì  (streamlit run app/main.py)
  â”‚   â”œâ”€â”€ pages/               # ì—¬ëŸ¬ í˜ì´ì§€ êµ¬ì„±í•  ê²½ìš° ì‚¬ìš© (Streamlit 1.10+)
  â”‚   â”‚   â””â”€â”€ dashboard.py
  â”‚   â””â”€â”€ components/          # ê·¸ë˜í”„, ìœ„ì ¯ ë“± ì„œë¸Œ ì»´í¬ë„ŒíŠ¸
  â”‚       â”œâ”€â”€ charts.py
  â”‚       â””â”€â”€ layout.py
  â”‚
  â”œâ”€â”€ src/                     # ML/ë°ì´í„° ê´€ë ¨ ë¡œì§
  â”‚   â”œâ”€â”€ __init__.py
  â”‚   â”œâ”€â”€ config.py
  â”‚   â”œâ”€â”€ data_loader.py       # CSV ë¶ˆëŸ¬ì˜¤ê¸°, ì „ì²˜ë¦¬
  â”‚   â”œâ”€â”€ trainer.py           # ëª¨ë¸ í•™ìŠµ
  â”‚   â”œâ”€â”€ predictor.py         # ì˜ˆì¸¡ ë¡œì§ (model.predict)
  â”‚   â””â”€â”€ utils.py
  â”‚
  â”œâ”€â”€ tests/                   # pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ
  â”‚   â”œâ”€â”€ test_data_loader.py
  â”‚   â””â”€â”€ test_predictor.py
  â”‚
  â”œâ”€â”€ requirements.txt         # íŒ¨í‚¤ì§€ ëª©ë¡
  â”œâ”€â”€ README.md                # í”„ë¡œì íŠ¸ ì„¤ëª…
  â”œâ”€â”€ .gitignore               # ëª¨ë¸, ìºì‹œ, ë°ì´í„° ì œì™¸
  â””â”€â”€ run.sh                   # Streamlit ì‹¤í–‰ìš© ìŠ¤í¬ë¦½íŠ¸ (ì„ íƒì‚¬í•­)
```
--------------------------------------------------------------
# ğŸ“Š íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ (EDA)
## 1) ê²°ì¸¡ì¹˜ ì²˜ë¦¬ ë° ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ ì œê±°
### - ê²°ì¸¡ì¹˜ ì²˜ë¦¬
(1) **Attrition** : ì˜ˆì¸¡ ëŒ€ìƒ(Target)ìœ¼ë¡œ, ê²°ì¸¡ì¹˜ëŠ” ë¶„ì„ ë¶ˆê°€ëŠ¥ -> ê²°ì¸¡í–‰ ì œê±° <br> 
(2) **TotalWorkingYears / YearsAtCompany** : 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€ìš© NaN ì²˜ë¦¬

### - ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ ì œê±°
| ì»¬ëŸ¼ëª…           | ì„¤ëª…                                      | ì œê±° ì‚¬ìœ  |
|------------------|-------------------------------------------|-----------|
| `EmployeeNumber` | ì‚¬ë²ˆ, ê° ì§ì›ì˜ ê³ ìœ  ì‹ë³„ì               | ëª¨ë¸ì´ ë‹¨ìˆœ ì‹ë³„ìì— ê³¼ì í•©í•  ìˆ˜ ìˆì–´ ì œê±° |
| `EmployeeCount`  | ëª¨ë“  ê°’ì´ ë™ì¼í•œ ìƒìˆ˜ (ì˜ˆ: ëª¨ë‘ 1)         | ì •ë³´ ì œê³µ ì—†ìŒ (ë¶„ì‚° = 0) |
| `Over18`         | ëª¨ë“  ê°’ì´ ë™ì¼ ("Y")                      | ì˜ˆì¸¡ì— ì˜í–¥ ì—†ìŒ |
| `StandardHours`  | ëª¨ë“  ê°’ì´ ë™ì¼ (ì˜ˆ: 80ì‹œê°„)                | ì‹¤ì œ ê·¼ë¬´ ì‹œê°„ê³¼ ë¬´ê´€, ì˜ˆì¸¡ ë³€ìˆ˜ë¡œ ë¶€ì ì ˆ |

## 2) ì£¼ìš” ë³€ìˆ˜ ì„ íƒ ë° ì°¨ì› ì¶•ì†Œ
###### ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•´ ì „ì²´ ë³€ìˆ˜ ì¤‘ Target(Attrition)ê³¼ì˜ ì¤‘ìš”ì„± ë¶„ì„ì„ ìˆ˜í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.<br> 
###### ë¶„ì„ ê²°ê³¼, target ê°’ê³¼ ìœ ì˜ë¯¸í•œ ì¤‘ìš”ì„±ì„ ê°€ì§€ëŠ” ìƒìœ„ 15ê°œ ë³€ìˆ˜ë§Œ ì„ ë³„í•˜ì˜€ìœ¼ë©°, ë‚˜ë¨¸ì§€ ë³€ìˆ˜ë“¤ì€ ì˜ˆì¸¡ ì„±ëŠ¥ì— ê¸°ì—¬ë„ê°€ ë‚®ë‹¤ê³  íŒë‹¨ë˜ì–´ ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤.
###### ğŸ“Œ Feature Importance ë¶„ì„ ê²°ê³¼

| Feature                    | Importance |
|---------------------------|------------|
| JobLevel                  | 0.222696   |
| StockOptionLevel          | 0.141220   |
| OverTime                  | 0.078135   |
| YearsInCurrentRole        | 0.041642   |
| MaritalStatus             | 0.040173   |
| EnvironmentSatisfaction   | 0.040092   |
| JobRole                   | 0.036193   |
| Department                | 0.035971   |
| JobInvolvement            | 0.032841   |
| Age                       | 0.027762   |
| BusinessTravel            | 0.027067   |
| JobSatisfaction           | 0.026314   |
| WorkLifeBalance           | 0.024771   |
| YearsWithCurrManager      | 0.022859   |
| NumCompaniesWorked        | 0.019836   |

## 3) ë°ì´í„° ì „ì²˜ë¦¬
###### (1) ì›-í•« ì¸ì½”ë”©(One-Hot Encoding) : âŒ
###### (2) ë¼ë²¨ ì¸ì½”ë”©(Label Encoding)

| Feature                    | ì„¤ëª… |ë§¤í•‘ë°©ì‹|
|---------------------------|------------------|-----------------|
| Attrition                  | í‡´ì‚¬ ì—¬ë¶€ (Yes->1, No->0)  | ì§ì ‘ì²˜ë¦¬|
| OverTime          | ì´ˆê³¼ ê·¼ë¬´ ì—¬ë¶€ (Yes->1, No->0)   | ManualMapper| 
| BusinessTravel                  | ì¶œì¥ ë¹ˆë„ (Travel_Rarely â†’ 2, Travel_Frequently â†’ 3, Non-Travel â†’ 4)  | ManualMapper|
| MaritalStatus        | ê²°í˜¼ ìƒíƒœ (	Single â†’ 2, Married â†’ 3, Divorced â†’ 4) | ManualMapper|
| Department             | ë¶€ì„œ (Sales â†’ 2, Human Resources â†’ 3, Research & Development â†’ 4)  | ManualMapper|
| JobRole   | ì§ë¬´ (ë‹¤ì–‘í•œ ì§ë¬´ë¥¼ 2~4 ì‚¬ì´ ê°’ìœ¼ë¡œ ë¼ë²¨ ë§¤í•‘)   | ManualMapper |

--------------------------------------------------------------
# ğŸ§ª ëª¨ë¸ë§ ë° ì„±ëŠ¥ ê°œì„  ê³¼ì •
## âš™ï¸ 1. ì´ˆê¸° ëª¨ë¸ë§ - ë‹¨ìˆœ í•™ìŠµ (SMOTE ì ìš© ì „, column drop ì „)
##### ì²˜ìŒì— ì „ì²´ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•˜ì—¬, ì „ì²˜ë¦¬ë§Œ ìˆ˜í–‰í•œ ë’¤ ë‹¤ì–‘í•œ ë¶„ë¥˜ ëª¨ë¸ í•™ìŠµ
##### < ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ ë° ë¶„ì„ > 
| model                    | accuracy |
|---------------------------|------------|
|            Logistic Regression       | 	0.8741   |
| Random Forest         | 0.8605   |
| Gradient Boosting                  | 0.8605   |
| LightGBM        | 0.8469   |
| XGBoost             | 0.8571   |

##### ğŸ“ˆ ëª¨ë¸ ì„±ëŠ¥ì€ ì „ë°˜ì ìœ¼ë¡œ ë‚˜ì˜ì§€ ì•Šì§€ë§Œ, ì‹¤ì œ ë¶„ë¥˜ ë¬¸ì œì—ì„œ ë‹¨ìˆœ ì •í™•ë„ë§Œìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ê²ƒìœ¼ë¡œ ìœ„í—˜í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨ê³¼ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ í›„ì† ë¶„ì„ ìˆ˜í–‰.
## ğŸ”  ì„±ëŠ¥ ê°œì„  
#### í´ë˜ìŠ¤ ë¹„ìœ¨ í™•ì¸
```
# ì´ì§ ì—¬ë¶€ ë¶„í¬ í™•ì¸
df['Attrition'].value_counts(normalize=True).plot.pie(autopct='%1.1f%%')
```
![image](https://github.com/user-attachments/assets/07672410-0e02-4007-be4d-3200ea0d485b)
##### âœ… ì´ì§í•œ ì‚¬ëŒ: ì•½ 16%
##### âœ… ì¬ì§ ì¤‘ì¸ ì‚¬ëŒ: ì•½ 84%
##### â— Target(Attrition)ì˜ ë¶„í¬ë¥¼ í™•ì¸í•´ë³´ë‹ˆ í´ë˜ìŠ¤ ë¶ˆê· í˜•ì´ ë§¤ìš° ì‹¬ê°í•¨
##### â— ëª¨ë¸ì´ 'No'ë¡œë§Œ ì˜ˆì¸¡í•´ë„ ì•½ 84% ì •í™•ë„ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆì—ˆê¸°ì—, ì´ëŠ” ë¶ˆê· í˜•ìœ¼ë¡œ ì¸í•œ ê³¼ëŒ€í‰ê°€ëœ ì„±ëŠ¥ì´ë¼ íŒë‹¨ <br>

## âš™ï¸ 2. í´ë˜ìŠ¤ ë¶ˆê· í˜• ë¬¸ì œ ì¸ì‹ - SMOTEì ìš© (SMOTE ì ìš© í›„, column drop ì „)
## ğŸ”§ SMOTE ì ìš©ì„ í†µí•œ ë°ì´í„° ê· í˜• ì¡°ì •
```
from imblearn.over_sampling import SMOTE

X = pd.DataFrame(norm_df.drop(columns='Attrition'))
Y = pd.DataFrame(norm_df.Attrition).values.reshape(-1, 1)
smote = SMOTE(random_state=42)
X_resampled, y_resampled = smote.fit_resample(X, y)
```
##### â— SMOTE(Synthetic Minority Over-sampling Technique) ê¸°ë²• ë„ì… 
##### â— SMOTEê¸°ë²•ì„ ë„ì…í•˜ì—¬ minority í´ë˜ìŠ¤ì¸ 'Yes(ì´ì§)'ì— í•´ë‹¹í•˜ëŠ” ìƒ˜í”Œì„ ì˜¤ë²„ìƒ˜í”Œë§ 
##### â— SMOTE ì ìš© í›„, ì´ì§/ì¬ì§ í´ë˜ìŠ¤ ë¹„ìœ¨ 1:1ë¡œ ì¡°ì •ë¨
##### < ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ ë° ë¶„ì„ > 
| model                    | accuracy |
|---------------------------|------------|
|            Logistic Regression       | 	0.8036   |
| Random Forest         | 0.9393   |
| Gradient Boosting                  | 0.9211   |
| LightGBM        | 0.9312   |
| XGBoost             | 0.9332   |

##### ğŸ“ˆSMOTEì ìš© ì´í›„ ì „ë°˜ì ìœ¼ë¡œ ëª¨ë“  ëª¨ë¸ì˜ ì„±ëŠ¥ì´ ëˆˆì— ë„ê²Œ í–¥ìƒë˜ì—ˆìœ¼ë©°, íŠ¹íˆ **Random Forest ëª¨ë¸**ì€ ì•½94%ì˜ ì •í™•ë„ë¥¼ ê¸°ë¡í•˜ì—¬ ê°€ì¥ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë³´ì„
## ğŸ”  ì„±ëŠ¥ ê°œì„ 
##### SMOTE ì ìš©ë§Œìœ¼ë¡œë„ ìƒë‹¹í•œ ì„±ëŠ¥ í–¥ìƒì„ ì´ëŒì–´ëƒˆì§€ë§Œ, ì¶”ê°€ì ìœ¼ë¡œ ëª¨ë¸ì˜ ì—°ì‚° íš¨ìœ¨ì„±ê³¼ ì¼ë°˜í™” ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ Feature Selectionì„ ì§„í–‰

##### ì•ì„œ ìˆ˜í–‰í•œ EDAê³¼ì •ì—ì„œ, ì „ì²´ í”¼ì²˜ë“¤ ì¤‘ì—ì„œ Attrition ì˜ˆì¸¡ì— ìœ ì˜ë¯¸í•œ ì˜í–¥ì„ ì£¼ëŠ” ìƒìœ„ 15ê°œ ë³€ìˆ˜ë§Œ ì„ ë³„í•˜ì˜€ê³ , ì •ë³´ê°€ ê±°ì˜ ì—†ê±°ë‚˜ ëª¨ë¸ì— ë¶ˆí•„ìš”í•œ ë…¸ì´ì¦ˆê°€ ë  ìˆ˜ ìˆëŠ” ì»¬ëŸ¼ í™•ì¸.
```
# ì¤‘ìš”ë„ ì¶”ì¶œ
importances = model.feature_importances_
feature_names = X.columns

# ê²°ê³¼ ì •ë¦¬ ë° ì •ë ¬
feature_importance_df = pd.DataFrame({
    'Feature': feature_names,
    'Importance': importances
}).sort_values(by='Importance', ascending=False)

top_features = feature_importance_df.head(15)
```
###### ğŸ“Œ Feature Importance ë¶„ì„ ê²°ê³¼
![image](https://github.com/user-attachments/assets/b9f0f5ed-4bec-41e8-b9ef-efe5c4f640f0)


## âš™ï¸ 2. í´ë˜ìŠ¤ ë¶ˆê· í˜• ë¬¸ì œ ì¸ì‹ - SMOTEì ìš© (SMOTE ì ìš© í›„, column drop ì „)

--------------------------------------------------------------


### < ì´í›„ ê³¼ì • >
### ëª¨ë¸ -> í´ë˜ìŠ¤ ë¶ˆê· í˜•ë•Œë¬¸ì— ì •í™•ë„ ë‚®ìŒ (íŒŒì´ ê·¸ë˜í”„ë¡œ í´ë˜ìŠ¤ ë¹„ìœ¨ ì‹œê°í™”) -> SMOTE ì‚¬ìš©ì´í›„ ëª¨ë¸ -> ëª¨ë¸ ì¤‘ ê°€ì¥ ë†’ì€ ì„±ëŠ¥ ë³´ì´ëŠ” ê²ƒ ì„ ì • -> streamlit êµ¬í˜„ í™”ë©´  -> ì¸ì‚¬ì´íŠ¸ ë° ê²°ë¡  -> + íšŒê³ ë¡
