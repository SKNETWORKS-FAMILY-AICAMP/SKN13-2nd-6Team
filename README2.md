# Streamlit

실행
streamlit run app.py

## main page

앱 실행 시 초기 진입 화면에 표시되는 메인 페이지 구성 요소입니다:

1. 페이지 설정: 페이지 제목 : 👩‍💼 직원 이탈 예측 시스템

2. 기본 통계 카드 (3컬럼 레이아웃) : 총 인원 수, 이직률, 평균 나이

3. 이직/잔류 파이 차트
- px.pie를 이용해 Attrition 분포 시각화 (잔류: 0, 이직: 1)

4. 페이지 이동 안내

사이드바 메뉴(직원 퇴사 예측/ 상관관계 분석 / 대량 예측) 사용 안내 메시지 출력

## page 1

### 직원 퇴사 예측

직원의 정보를 직접 입력해서 퇴사 예측 확률을 알려주는 페이지입니다.

- 중요도가 높은 featrue 15개를 선정해서 사용자가 직접 입력할 수 있게 했다.
- 조회하기 버튼을 누르면 퇴사 가능성을 퍼센트로 보여주며 안정, 주의, 위험 단계를 표시한다.
- 게이지 차트로 퇴사 가능성을 시각적으로 보여주며 안정, 주의, 위험 단계의 색깔을 사용해서 직관적으로 표현하고자 했다.
- 또한, 눈금과 확률 숫자를 같이 보여주며 한 눈에 확인할 수 있도록 하였다.
- 중요도가 높은 feature 다섯 개를 선정하여 퇴사 이유 주요 요인으로 보여준다.

## page 2

## page 3

이 Streamlit 페이지는 사전 학습된 XGBoost 모델과 전처리 파이프라인을 활용하여 대규모 직원 이탈 예측을 수행합니다. 사용자는 전처리된 CSV 파일을 업로드하면, 자동으로 불필요 컬럼 제거, 매핑, 정규화를 거쳐 이탈 확률을 계산하고, 상위 20명의 고위험 직원 정보를 제공합니다.

### 주요 기능

- 데이터 전처리: tools.py의 drop_unnecessary_col과 mapping 함수로 불필요 컬럼 제거 및 범주형 인코딩 수행
- 정규화: 학습 시 사용된 dummy_scaler.pkl 스케일러 적용
- 모델 예측: xgb_clf.pkl XGBoost 분류기를 로드하여 이탈 확률(Attrition_Prob) 및 예측(Pred) 생성
- 위험 등급: 확률에 따라 High/Medium/Low 등급(Grade) 부여
- Top 20 추출: 이탈 확률 상위 20명 테이블 출력
- 결과 다운로드: 전체 예측 결과 CSV 파일로 저장 가능

### user

- 브라우저에서 나타나는 UI에서 대량 데이터 파일 업로드 클릭 -> 전처리된 CSV 파일 선택
- 자동 전처리 → 예측 → Top 20 이탈 확률 높은 대상 테이블 확인
- 📥 결과 다운로드 버튼으로 전체 결과 저장
